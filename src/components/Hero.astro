<div class="relative isolate overflow-hidden sm:h-[500px] lg:h-[600px]">
    <!-- Image Container -->
    <div class="absolute inset-0 w-full h-full overflow-hidden">
        <img
            class="slider-image"
            src="images/paris.png"
            alt="Paris Background"
        />
        <img
            class="slider-image"
            src="images/london.png"
            alt="London Background"
        />
        <img
            class="slider-image"
            src="images/berlin.png"
            alt="Berlin Background"
        />
        <img
            class="slider-image"
            src="images/stockholm.png"
            alt="Stockholm Background"
        />
        <img
            class="slider-image"
            src="images/brussels.png"
            alt="Brussels Background"
        />
        <img
            class="slider-image"
            src="images/amsterdam.png"
            alt="Amsterdam Background"
        />
        <img
            class="slider-image"
            src="images/rome.png"
            alt="Rome Background"
        />
    </div>

    <!-- Overlay -->
    <div class="absolute inset-0">
        <img
            src="images/blue-hue.png"
            alt="Overlay"
            class="absolute w-full h-full object-fill"
        />
        <div class="absolute max-w-2xl mx-48 my-48 sm:mx-32 sm:my-32">
            <h1
                class="font-extrabold text-white sm:text-4xl md:text-6xl"
            >
                Your Partner in Entering the European IT Market
            </h1>
            <p class="mt-6 lg:text-lg sm:text-sm font-roboto text-white lg:line-clamp-2">
                <strong
                    >We advise and assist IT companies in establishing and
                    expanding their presence in the European Market.</strong
                >
            </p>
        </div>
    </div>
</div>

<script client:load>
    document.addEventListener("DOMContentLoaded", () => {
        const images = document.querySelectorAll(".slider-image");
        let currentIndex = 0;

        function changeBackground() {
            const currentImage = images[currentIndex];
            const nextIndex = (currentIndex + 1) % images.length;
            const nextImage = images[nextIndex];

            // Ensure the next image is visible and positioned off-screen
            nextImage.style.visibility = "visible";
            nextImage.style.transform = "translateX(100%)";

            // Trigger the slide animations
            currentImage.classList.add("slide-out-left");
            nextImage.classList.add("slide-in-right");

            // Wait for the animation to complete
            setTimeout(() => {
                // Reset classes and positions
                currentImage.classList.remove("slide-out-left");
                currentImage.style.visibility = "hidden";
                currentImage.style.transform = "translateX(100%)";

                nextImage.classList.remove("slide-in-right");
                nextImage.style.transform = "translateX(0)";

                // Update the current index
                currentIndex = nextIndex;
            }, 3000); // Match the duration of the CSS animation
        }

        // Start the background transition every 10 seconds
        setInterval(changeBackground, 10000);
    });
</script>

<style>
/* Sliding animations */
.slide-out-left {
    animation: slide-out-left 3s ease-in-out forwards;
}

.slide-in-right {
    animation: slide-in-right 3s ease-in-out forwards;
}

@keyframes slide-out-left {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-100%);
    }
}

@keyframes slide-in-right {
    0% {
        transform: translateX(100%);
    }
    100% {
        transform: translateX(0);
    }
}

/* Ensure all images are positioned correctly */
.slider-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: fill;
    transform: translateX(100%); /* Start off-screen to the right */
    visibility: hidden; /* Keep the element in the rendering flow */
}

.slider-image:first-child {
    transform: translateX(0); /* The first image is visible initially */
    visibility: visible;
}
</style>