---
interface Feature {
  title: string;
  image: string;
  link: string;
}

const features: Feature[] = [
  {
    title: "Assessment and Planning",
    image: "images/svg/assessment.svg",
    link: "/services/assessment-and-planning",
  },
  {
    title: "Product and Technology Advisory",
    image: "images/svg/product.svg",
    link: "/services/product-and-technology",
  },
  {
    title: "Sales and Go-to-Market",
    image: "images/svg/sales.svg",
    link: "/services/sales-go-to-market",
  },
  {
    title: "Marketing and Pipeline Building",
    image: "images/svg/marketing.svg",
    link: "/services/marketing-and-pipeline",
  },
  {
    title: "Recruiting and Talent Acquisition",
    image: "images/svg/recruit.svg",
    link: "/services/recruiting-and-talent",
  },
  {
    title: "Legal & Regulatory Navigation",
    image: "images/svg/legal.svg",
    link: "/services/legal-and-regulatory",
  },
]; 
---

<div class="mx-auto max-w-7xl py-16 px-8">
  <div class="mx-auto mt-16 max-w-7xl lg:text-center">
    <h2
      class="mt-16 text-4xl font-black font-stretch-extra-expanded text-gray-900"
    >
      What we can do for you
    </h2>
  </div>
  <div class="mx-auto mt-16 lg:max-w-5xl">
    <dl
      class="grid max-w-none grid-cols-3 gap-x-8 gap-y-16 max-w-none"
    >
      {features.map((feature) => (
        <div
          class="relative bg-[#F2F5F7] rounded-xl group feature-item hover:bg-[#1B4671] transition-colors duration-300"
        >
          <div class="p-6 flex flex-col">
            <img
              src={feature.image}
              alt={feature.title}
              class="w-20 h-20 mb-10 feature-image"
            />
            <p class="text-xl font-bold feature-text group-hover:text-white force-break">
              {feature.title}
            </p>
          </div>
          <!-- Learn More Button -->
          <div
            class="absolute bottom-6 left-0 right-0 flex ml-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
          >
            <a
              href={feature.link}
              class="bg-[#B6CB23] text-[#1B4671] px-6 py-2 rounded-2xl text-sm font-semibold transition duration-300 learn-more-btn"
            >
              Learn More <span aria-hidden="true">
                <img
                  src="images/svg/arrow_outward.svg"
                  alt="Arrow"
                  class="inline-block w-4 h-4"
                />
              </span>
            </a>
          </div>
        </div>
      ))}
    </dl>
  </div>
</div>

<style>
  /* Force text to break into a second line */
  .force-break {
    display: inline-block; /* Ensures the text respects the width */
    max-width: 250px; /* Adjust this value to control where the break happens */
    white-space: normal; /* Allows wrapping */
    word-break: break-word; /* Breaks long words if necessary */
    overflow-wrap: break-word; /* Ensures wrapping for long words */
  }
</style>

<script>
    // Select all feature items
    const featureItems = document.querySelectorAll(".feature-item");

    featureItems.forEach((item) => {
        const imageContainer = item.querySelector(".feature-image");
        const text = item.querySelector(".feature-text");
        const learnMoreButton = item.querySelector(".learn-more-btn");

        // Add hover event listeners
        item.addEventListener("mouseenter", () => {
            // Hide the image container
            imageContainer.style.display = "none";
            // Make the button relative
            learnMoreButton.style.position = "relative";
            // // Align the text
            text.style.currentColor = "white";

            featureItems.style.backgroundColor = "#1B4671";
        });

        item.addEventListener("mouseleave", () => {
            // Show the image container
            imageContainer.style.display = "flex";
            // Revert the button to its original state
            learnMoreButton.style.position = "static";
        });
    });
</script>
